<html>
<head>
   <script src='jquery-3.5.1.min.js'></script>
   <script src="p5.js"></script>
</head>
<body>
<main>
   <script>
      const script = document.createElement('script')
      script.type = 'text/javascript'

      // Todo: このハッシュの取得のところ取得し続けるのではなく待つようにできないか？
      let urlHash = location.hash.split('#')[1]
      while (!urlHash) {
         urlHash = location.hash.split('#')[1]
      }
      
      const url = 'https://misteltein.github.io/p5/' + urlHash;
      $.getScript(url)
         .done(function(s,textStatus){
            script.src = url;
            const firstScript = document.getElementsByTagName('script')[0];
            firstScript.parentNode.insertBefore(script, firstScript);
         })
   </script>
</main>
</body>
</html>
